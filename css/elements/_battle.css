.battle > .progress-bar.current {
    --progress-bar-color: var(--battle-color);
}

.game-playing {
    .battle > .progress-bar-striped.current,
    .battle.progress:hover > .progress-bar-striped {
        animation: 1s linear infinite progress-bar-stripes;
    }
}

#gameOverModal {
    &.win {
        .loss-only {
            display: none;
        }

        .modal-content {
            border: 3px solid cyan;
        }

        .modal-title,
        .modal-body {
            color: lightcyan;
        }
    }

    &.loss {
        .win-only {
            display: none;
        }

        .modal-content {
            border: 3px solid darkred;
        }

        .modal-title,
        .modal-body {
            color: lightcoral;
        }
    }
}

.xpGainCell,
.dangerCell {
    white-space: normal !important;
    text-align: right;

    &.defense-mode {
        .attack-value {
            color: var(--ps-passive);
        }
    }

    &:not(.defense-mode) {
        .defense-value {
            display: none;
        }

        .capped-prefix {
            display: none;
        }
    }
}

.defense-value {
    color: var(--ps-cyan);
}

.glow-shield {
    border-radius: 56px 15px 10px 10px / 32px 15px 10px 10px;
    box-shadow: 0 0 12px 4px var(--ps-cyan),
                0 0 24px 12px rgba(0,255,255,0.14);
    animation: shield-glow-pulse 3s infinite alternate;
    transition: box-shadow 0.3s;
    position: relative;
    z-index: 1;
    overflow: visible !important;
}

@keyframes shield-glow-pulse {
    0%, 100% {
        box-shadow: 0 0 5px 2px var(--ps-cyan),
                    0 0 10px 4px rgba(var(--ps-cyan-rgb), 0.12);
    }
    50% {
        box-shadow: 0 0 12px 4px var(--ps-cyan),
                    0 0 24px 12px rgba(var(--ps-cyan-rgb), 0.18);
    }
}
